<!doctype html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-44C9DS3Q80"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-44C9DS3Q80');</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://yamlscript.org/doc/tutorial/"><link href="/assets/main.089cde16aad3ee63f22f.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>YAMLScript Syntax Basics | YAMLScript</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="YAMLScript Syntax Basics"><meta property="og:site_name" content="YAMLScript"><meta property="og:type" content="website"><meta property="og:url" content="https://yamlscript.org/doc/tutorial/"><meta name="twitter:card" content="summary_large_image"><meta name="description" content="YAMLScript Syntax Basics Let&#39;s start learning about YAMLScript syntax by looking at a simple YAMLScript program. Here&#39;s a program to print..."><meta property="og:description" content="YAMLScript Syntax Basics Let&#39;s start learning about YAMLScript syntax by looking at a simple YAMLScript program. Here&#39;s a program to print..."><meta name="description" content="YAMLScript Syntax Basics Let&#39;s start learning about YAMLScript syntax by looking at a simple YAMLScript program. Here&#39;s a program to print..."><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/"><img src="/images/yamlscript-logo.svg"></a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/doc">Docs</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/about">About</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>YAMLScript Syntax Basics</h1></header><main class="post__content"><p>Let's start learning about YAMLScript syntax by looking at a simple YAMLScript program.</p><p>Here's a program to print some numbers (10 of them by default) from the fibonacci sequence:</p><pre class="language-yaml"><code class="language-yaml"><span class="token tag">!yamlscript/v0</span><br><br><span class="token key atrule">defn main(n=10)</span><span class="token punctuation">:</span><br>  loop a 0<span class="token punctuation">,</span> b 1<span class="token punctuation">,</span> <span class="token key atrule">i 1</span><span class="token punctuation">:</span><br>    <span class="token key atrule">say</span><span class="token punctuation">:</span> a<br>    <span class="token key atrule">when i &lt; n</span><span class="token punctuation">:</span><br>      <span class="token key atrule">recur</span><span class="token punctuation">:</span> b<span class="token punctuation">,</span> (a + b)<span class="token punctuation">,</span> i.++</code></pre><p>When you run a YAMLScript program using the <code>ys</code> interpreter command it:</p><ul><li>Compiles the YAMLScript code to Clojure code</li><li>Evaluates the Clojure code</li></ul><p>Let's try it (requesting 8 numbers from the fibonacci sequence):</p><pre class="language-sh"><code class="language-sh">$ ys fib.ys <span class="token number">8</span><br><span class="token number">0</span><br><span class="token number">1</span><br><span class="token number">1</span><br><span class="token number">2</span><br><span class="token number">3</span><br><span class="token number">5</span><br><span class="token number">8</span><br><span class="token number">13</span></code></pre><p>Great, but to understand it better let's look at the Clojure code that it compiled to:</p><pre class="language-sh"><code class="language-sh">$ ys <span class="token parameter variable">-c</span> fib.ys<br><span class="token punctuation">(</span>defn main<br> <span class="token punctuation">(</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><br>  <span class="token punctuation">(</span>loop <span class="token punctuation">[</span>a <span class="token number">0</span> b <span class="token number">1</span> i <span class="token number">1</span><span class="token punctuation">]</span><br>   <span class="token punctuation">(</span>say a<span class="token punctuation">)</span><br>   <span class="token punctuation">(</span>when <span class="token punctuation">(</span><span class="token operator">&lt;</span> i n<span class="token punctuation">)</span> <span class="token punctuation">(</span>recur b <span class="token punctuation">(</span>add+ a b<span class="token punctuation">)</span> <span class="token punctuation">(</span>inc i<span class="token punctuation">))</span><span class="token punctuation">))</span><span class="token punctuation">)</span><br> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">(</span>main <span class="token number">10</span><span class="token punctuation">))</span><span class="token punctuation">)</span><br><span class="token punctuation">(</span>apply main ARGS<span class="token punctuation">)</span></code></pre><blockquote><p>Note: When learning or debugging YAMLScript programs, it's often very helpful to look at the generated Clojure code using <code>ys -c</code>.</p></blockquote><p>We can see 2 top-level forms in the generated Clojure code. The first is the <code>main</code> function definition, and the second is the call to the <code>main</code> function with the command-line arguments. That's interesting, we didn't actually call <code>main</code> in our ys program.</p><p>The YS compiler automatically adds a call to <code>main</code> if it detects the <code>main</code> was defined but not called in the program.</p><p>The Clojure <code>main</code> function has 2 bodies, one with an argument <code>n</code> and the other without any arguments. In the YAMLScript program there is only one function body, but not that the <code>n</code> argument has a default value of <code>10</code>. Clojure doesn't support default arguments, but the YS compiler can generate a second body that takes no arguments and calls the first body with the default.</p></main><aside class="post__aside"><nav class="post__pagination"></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a href="https://github.com/yaml/yamlscript" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul><p class="footer__attribution">Powered by <a href="https://www.11ty.dev" target="_blank" rel="noopener">Eleventy</a>. Theme: <a href="https://github.com/yinkakun/eleventy-duo" target="_blank" rel="noopener noreferrer">Eleventy Duo</a>.</p></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>