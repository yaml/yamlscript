<!doctype html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-44C9DS3Q80"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-44C9DS3Q80');</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://yamlscript.org/doc/ys-std/"><link href="/assets/main.fc9b07030678f58b9d0b.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>The YAMLScript Standard Library | YAMLScript</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="The YAMLScript Standard Library"><meta property="og:site_name" content="YAMLScript"><meta property="og:type" content="website"><meta property="og:url" content="https://yamlscript.org/doc/ys-std/"><meta name="twitter:card" content="summary_large_image"><meta name="description" content="The YAMLScript Standard Library The YAMLScript standard library is a collection of functions that are available to all YAMLScript programs...."><meta property="og:description" content="The YAMLScript Standard Library The YAMLScript standard library is a collection of functions that are available to all YAMLScript programs...."><meta name="description" content="The YAMLScript Standard Library The YAMLScript standard library is a collection of functions that are available to all YAMLScript programs...."><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/"><img src="/images/yamlscript-logo.svg"></a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/doc">Docs</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/about">About</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>The YAMLScript Standard Library</h1></header><main class="post__content"><p>The YAMLScript standard library is a collection of functions that are available to all YAMLScript programs. This document describes the functions in the standard library and how to use them.</p><p>YAMLScript exposes most of the functions available in the <a href="https://clojuredocs.org/core-library">Clojure Core</a> standard library. See <a href="/doc/core">Core Library Essentials</a> for an overview of those functions.</p><p>The YAMLScript standard library replaces some Clojure functions with a version more suited to YAMLScript. In those cases, the original Clojure function is still available in the <a href="/doc/ys-clj"><code>ys::clj</code></a> namespace.</p><h2>Special functions</h2><ul><li>source(*) - Run a YAMLScript file as a Bash script</li></ul><h2>Shorter named alias functions</h2><ul><li><code>a</code> - <code>clojure.core/identity</code> alias</li><li><code>a</code> - <code>clojure.core/identity</code> alias</li><li><code>a</code> - <code>clojure.core/identity</code> alias</li></ul><h2>Quoting functions</h2><ul><li><code>q(form)</code> - <code>clojure.core/quote</code> alias</li><li><code>qr(str)</code> - <code>clojure.core/re-pattern</code> alias</li><li><code>qw(symbols)</code> - Turn symbols into a vector of strings</li></ul><h2>Alternate truth functions</h2><ul><li><code>falsey?(x)</code> - True if x is falsey - 0, nil, false, empty</li><li><code>truey?(x)</code> - True if x is not falsey</li><li><code>or?(x *xs)</code> - Return first truey value or nil</li><li><code>and?(x *xs)</code> - Return last truey value or nil</li><li><code>|||</code> - <code>or?</code> operator</li><li><code>&amp;&amp;&amp;</code> - <code>and?</code> operator</li></ul><h2>Named function aliases for infix operators</h2><ul><li><code>eq</code> - <code>clojure.core/=</code></li><li><code>ne</code> - <code>clojure.core/not=</code></li><li><code>gt</code> - <code>clojure.core/&gt;</code></li><li><code>ge</code> - <code>clojure.core/&gt;=</code></li><li><code>lt</code> - <code>clojure.core/&lt;</code></li><li><code>le</code> - <code>clojure.core/&lt;=</code></li></ul><h2>Common type conversion functions</h2><ul><li><code>to-bool(x)</code> - Convert x to a boolean</li><li><code>to-booly(x)</code> - Convert truey x to a boolean</li><li><code>to-float(x)</code> - Convert x to a float</li><li><code>to-int(x)</code> - Convert x to an integer</li><li><code>to-list(x)</code> - Convert x to a list</li><li><code>to-map(x)</code> - Convert x to a map</li><li><code>to-num(x)</code> - Convert x to a number</li><li><code>to-set(x)</code> - Convert x to a set</li><li><code>to-vec(x)</code> - Convert x to a vector</li></ul><h2>Math functions</h2><ul><li><code>add(*)</code> - <code>clojure.core/+</code> alias</li><li><code>sub(*)</code> - <code>clojure.core/-</code> alias</li><li><code>mul(*)</code> - <code>clojure.core/*</code> alias</li><li><code>div(*)</code> - Division function that returns a float if needed</li><li><code>sum(nums)</code> - Sum a list of numbers</li><li><code>pow(x *ys)</code> - Raise a number to a power - right associative</li><li><code>sqr(x)</code> - Square a number</li><li><code>cube(x)</code> - Cube a number</li><li><code>sqrt(x)</code> - Square root of a number</li><li><code>abs(x)</code> - Absolute value of a number</li><li><code>add+(x *xs)</code> - Polymorphic addition function</li><li><code>sub+(x *xs)</code> - Polymorphic subtraction function</li><li><code>div+(x *xs)</code> - Polymorphic division function</li><li><code>mul+(x *xs)</code> - Polymorphic multiplication function</li></ul><h2>Document result stashing functions</h2><ul><li><code>$</code> - Mapping of document results</li><li><code>$#</code> - Index of last document result</li><li><code>$$</code> - Get the last document result</li></ul><h2>Control functions</h2><ul><li><code>value(x)</code> - Get var value from var, symbol or string. Often used to convert a string to a function.</li><li><code>call(f *args)</code> - Call a function or value. Function <code>f</code> can be a string, symbol or function.</li><li><code>die(msg)</code> - Idiomatic error function</li><li><code>each(bindings *body)</code> - Non-lazy for loop</li><li><code>err(*xs)</code> - Print to stderr</li><li><code>exit(rc=0)</code> - Exit the program</li><li><code>if(cond then else)</code> - Functional <code>if</code> used in dot chaining</li><li><code>sleep(secs)</code> - Sleep for a number of seconds</li></ul><h2>String functions</h2><ul><li><code>chomp(s)</code> - Remove trailing newlines</li><li><code>index(s, sub)</code> - Find index of substring</li><li><code>join(s, *xs)</code> - Join strings or seqs with a separator</li><li><code>lc(s)</code> - Lowercase a string</li><li><code>lines(s)</code> - Split a string into lines</li><li><code>pretty(x)</code> - Pretty print a value</li><li><code>replace(s, old, new)</code> - Replace all occurrences of old with new</li><li><code>replace1(s, old, new)</code> - Replace first occurrence of old with new</li><li><code>split(s, re)</code> - Split a string by a regex</li><li><code>trim(s)</code> - Trim whitespace from both ends</li><li><code>triml(s)</code> - Trim whitespace from left end</li><li><code>trimr(s)</code> - Trim whitespace from right end</li><li><code>uc(s)</code> - Uppercase a string</li><li><code>uc1(s)</code> - Capitalize a string</li><li><code>words(s)</code> - Split a string into words</li></ul><h2>Regex functions</h2><ul><li><code>=~</code> - Infix re-find operator</li><li><code>!~</code> - Infix re-find complement operator</li></ul><h1>Collection functions</h1><ul><li><code>get+(C, K)</code> - Get a string, keyword or symbol from a map or sequence</li><li><code>grep(P, C)</code> - Filter a collection by a predicate</li><li><code>has?(C, x)</code> - True if collection has x</li><li><code>in?(x, C)</code> - True if x is in collection</li><li><code>omap(*xs)</code> - Create an ordered map</li><li><code>reverse(x)</code> - Reverse a string, vector or sequence</li><li><code>rng(x, y)</code> - Create a range of numbers or characters, y is inclusive</li><li><code>..</code> - Infix rng operator</li></ul><h2>I/O functions</h2><ul><li><code>out(*xs)</code> - Print to stdout</li><li><code>pp(x)</code> - Pretty print a value</li><li><code>say(*xs)</code> - Print to stdout with newline</li><li><code>warn(*xs)</code> - Print to stderr with newline</li></ul><h2>File system functions</h2><ul><li><code>fs-d(path)</code> - True if path is a directory</li><li><code>fs-e(path)</code> - True if path exists</li><li><code>fs-f(path)</code> - True if path is a regular file</li><li><code>fs-l(path)</code> - True if path is a symbolic link</li><li><code>fs-r(path)</code> - True if path is readable</li><li><code>fs-s(path)</code> - True if path is not empty</li><li><code>fs-w(path)</code> - True if path is writable</li><li><code>fs-x(path)</code> - True if path is executable</li><li><code>fs-z(path)</code> - True if path is empty</li><li><code>fs-abs(path)</code> - Get the absolute path</li><li><code>fs-abs?(path)</code> - True if path is absolute</li><li><code>fs-dirname(path)</code> - Get the directory name of a path</li><li><code>fs-filename(path)</code> - Get the file name of a path</li><li><code>fs-glob(path)</code> - Glob a path</li><li><code>fs-ls(dir)</code> - List a directory</li><li><code>fs-mtime(file)</code> - Get the modification time of a file</li><li><code>fs-rel(path)</code> - Get the relative path</li><li><code>fs-rel?(path)</code> - True if path is relative</li><li><code>fs-which(name)</code> - Find the path of an executable</li></ul><h2>IPC functions</h2><p>See <a href="https://github.com/babashka/process#readme"><code>babashka.process</code></a> for more information about these functions.</p><ul><li><code>exec(cmd, *xs)</code> - Execute a command</li><li><code>process(cmd, *xs)</code> - Execute a command</li><li><code>sh(cmd, *xs)</code> - Execute a command</li><li><code>shell(cmd, *xs)</code> - Execute a command</li><li><code>shout(cmd, *xs)</code> - Execute a command and return the output</li></ul><h2>External library functions</h2><ul><li><code>use-pod(pod-name, version)</code> - Load an external library pod</li></ul><h2>HTTP functions</h2><ul><li><code>curl(url)</code> - Get a URL and return the body</li></ul></main><aside class="post__aside"><nav class="post__pagination"></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a href="https://github.com/yaml/yamlscript" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul><p class="footer__attribution">Powered by <a href="https://www.11ty.dev" target="_blank" rel="noopener">Eleventy</a>. Theme: <a href="https://github.com/yinkakun/eleventy-duo" target="_blank" rel="noopener noreferrer">Eleventy Duo</a>.</p></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>