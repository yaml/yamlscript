
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Program in YAML — Code is Data">
      
      
        <meta name="author" content="Ingy döt Net">
      
      
        <link rel="canonical" href="https://yamlscript.org/blog/advent-2023/dec-20/">
      
      
        <link rel="prev" href="../dec-21/">
      
      
        <link rel="next" href="../dec-19/">
      
      
      <link rel="icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>Godspeed - YS is YAML's Friend</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/theme.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#welcome-to-day-20-of-the-yamlscript-advent-blog" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="YS is YAML&#39;s Friend" class="md-header__button md-logo" aria-label="YS is YAML's Friend" data-md-component="logo">
      
  <img src="../../../images/yamlscript-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            YS is YAML's Friend
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Godspeed
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/yaml/yamlscript" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../doc/" class="md-tabs__link">
          
  
    
  
  Documentation

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../2024-11-29/" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../press/" class="md-tabs__link">
        
  
    
  
  Press

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../community/" class="md-tabs__link">
          
  
    
  
  Community

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="YS is YAML&#39;s Friend" class="md-nav__button md-logo" aria-label="YS is YAML's Friend" data-md-component="logo">
      
  <img src="../../../images/yamlscript-logo.svg" alt="logo">

    </a>
    YS is YAML's Friend
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/yaml/yamlscript" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../doc/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducing YS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YS by Example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/exercism/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Learn at YS Exercism
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/cheat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YS Cheat Sheet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/ys/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The `ys` Command
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/loaders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YS Loader Libraries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing YS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/clj-to-ys/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clojure to YS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/yaml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YAML Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/clojure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clojure Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/yes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YeS Expressions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/modes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YS Modes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Control Flow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/operators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/chain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dot Chaining
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/ys-taptest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unit Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/ys-std/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YS Standard Library
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Library Essentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/ys-libs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Builtin Internal Libraries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/binary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compiling YS to Binary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/run-ys/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Self Installation Scripts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2024-11-29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Kubernetes Effect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2024-11-05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Fall of YAMLScript!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2024-07-17/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go Julia!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2024-06-20/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dr. StrangeYAML
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Older
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Older
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2024-04-16/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YAMLScript Spring Update
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2024-03-14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YAMLScript Firsts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" checked>
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2023 Advent Posts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            2023 Advent Posts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-24/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wrapped and Ready
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-23/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perl to Rust
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-22/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flip Flops
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-21/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YAML, Python and the Holy Graal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Godspeed
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Godspeed
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#welcome-to-day-20-of-the-yamlscript-advent-blog" class="md-nav__link">
    <span class="md-ellipsis">
      Welcome to Day 20 of the YAMLScript Advent Blog!
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-19/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reindeer All The Way Down
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-18/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Santa's in d'buggy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-17/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rosetta Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-16/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Let Lambda Come Over
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Naughty is Nice!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stocking Stuffers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History Lesson
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Future Proof
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The YeS Express
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    States and Ladders
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-09/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coding with Style
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-08/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Going to the Library
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-07/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sharpen Your Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-06/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modes of Transportation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unwrapping Gifts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Santa's Big Secret
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load em Up!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Twas a Bit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dec-01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YAMLScript Advent 2023
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../press/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Press
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../community/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Community
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Community
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing to YS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../social/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YS Social
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#welcome-to-day-20-of-the-yamlscript-advent-blog" class="md-nav__link">
    <span class="md-ellipsis">
      Welcome to Day 20 of the YAMLScript Advent Blog!
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
<!--
<pre>
page: >>><<<
page.meta: >>>{
  "title": "Godspeed"
}<<<
page.previous_page: >>>Page(title='YAML, Python and the Holy Graal', url='/blog/advent-2023/dec-21/')<<<
page.next_page: >>>Page(title='Reindeer All The Way Down', url='/blog/advent-2023/dec-19/')<<<
scheme: >>>default<<<
tag: >>><<<
title: >>><<<
app: >>><<<
author: >>><<<
</pre>
-->




  <h1>Godspeed</h1>

<p>I wonder if Santa has a Hemi?
Supercharged, Turbocharged?
Maybe a Nitro Burning Funny Sleigh?
Dude's got to get around the world in one night.
Godspeed, my festive friend!</p>
<h3 id="welcome-to-day-20-of-the-yamlscript-advent-blog">Welcome to Day 20 of the YAMLScript Advent Blog!</h3>
<p>Are YAMLScript programs compiled or interpreted?
The answer is yes.</p>
<p>Clojure (thus YAMLScript) is a very dynamic language.
Clojure code gets compiled to Java bytecode just in time.
The JVM compiles the bytecode to machine code just in time.
Libraries that Clojure uses are compiled ahead of time.
The whole YAMLScript runtime was compiled by GraalVM native-image into a native
binary so there is no JVM involved for us in the end.</p>
<p>It's all pretty complicated.</p>
<p>But I was talking about YAMLScript programs being run by the YAMLScript CLI
<code>ys</code>.
You can think of <code>ys</code> as an interpreter like Python, Perl, Ruby or Java.
Sure, those languages <em>compile</em> to an intermediate AST/opcode-tree to be faster,
but the programs are still interpreted (not binary compiled).</p>
<p>What if you could compile your YAMLScript program to a native binary?
Like an ELF file on Linux or a Mach-O file on macOS.</p>
<blockquote>
<p>Can you guess why I like Linux better this time of year? :- )</p>
</blockquote>
<p><strong>As of today, you can natively compile YAMLScript programs!!</strong></p>
<p>Merry, Merry!</p>
<p>Let's check it out.
Remember our favorite drinking song from Day 9?
Here it is again:</p>
<div class="highlight"><pre><span></span><code><span class="c1">#!/usr/bin/env ys-0</span>
<span class="c1"># 99-bottles.ys</span>

<span class="nt">defn main(number=99)</span><span class="p">:</span>
<span class="w">  </span><span class="nt">each n (number .. 1)</span><span class="p">:</span>
<span class="w">    </span><span class="nt">say</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">paragraph(n)</span>

<span class="nt">defn paragraph(num)</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">  </span><span class="no">$bottles(num) of beer on the wall,</span>
<span class="w">  </span><span class="no">$bottles(num) of beer.</span>
<span class="w">  </span><span class="no">Take one down, pass it around.</span>
<span class="w">  </span><span class="no">$bottles(num - 1) of beer on the wall.</span>

<span class="nt">defn bottles(n)</span><span class="p">:</span>
<span class="w">  </span><span class="nt">cond</span><span class="p">:</span>
<span class="w">    </span><span class="nt">n == 0 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;No</span><span class="nv"> </span><span class="s">more</span><span class="nv"> </span><span class="s">bottles&quot;</span>
<span class="w">    </span><span class="nt">n == 1 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1</span><span class="nv"> </span><span class="s">bottle&quot;</span>
<span class="w">    </span><span class="nt">else   </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$n</span><span class="nv"> </span><span class="s">bottles&quot;</span>
</code></pre></div>
<p>Let's see how long it takes to drink 3 bottles:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">time</span><span class="w"> </span>ys<span class="w"> </span><span class="m">99</span>-bottles.ys<span class="w"> </span><span class="m">3</span>
<span class="m">3</span><span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall,
<span class="m">3</span><span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer.
Take<span class="w"> </span>one<span class="w"> </span>down,<span class="w"> </span>pass<span class="w"> </span>it<span class="w"> </span>around.
<span class="m">2</span><span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall.

<span class="m">2</span><span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall,
<span class="m">2</span><span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer.
Take<span class="w"> </span>one<span class="w"> </span>down,<span class="w"> </span>pass<span class="w"> </span>it<span class="w"> </span>around.
<span class="m">1</span><span class="w"> </span>bottle<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall.

<span class="m">1</span><span class="w"> </span>bottle<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall,
<span class="m">1</span><span class="w"> </span>bottle<span class="w"> </span>of<span class="w"> </span>beer.
Take<span class="w"> </span>one<span class="w"> </span>down,<span class="w"> </span>pass<span class="w"> </span>it<span class="w"> </span>around.
No<span class="w"> </span>more<span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall.

real<span class="w">    </span>0m0.075s
</code></pre></div>
<p>75 milliseconds. Not bad.
Let's see if we can drink a little faster, shall we?</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ys<span class="w"> </span>--binary<span class="w"> </span><span class="m">99</span>-bottles.ys
*<span class="w"> </span>Compiling<span class="w"> </span>YAMLScript<span class="w"> </span><span class="s1">&#39;99-bottles.ys&#39;</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;99-bottles&#39;</span><span class="w"> </span>executable
*<span class="w"> </span>Setting<span class="w"> </span>up<span class="w"> </span>build<span class="w"> </span>env<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;/tmp/tmp.wpt7O1KsWg&#39;</span>
*<span class="w"> </span>This<span class="w"> </span>may<span class="w"> </span>take<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>minutes...
<span class="o">[</span><span class="m">1</span>/8<span class="o">]</span><span class="w"> </span>Initializing<span class="w">              </span><span class="o">(</span><span class="m">5</span>.0s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.08GB<span class="o">)</span>
<span class="o">[</span><span class="m">2</span>/8<span class="o">]</span><span class="w"> </span>Performing<span class="w"> </span>analysis<span class="w">               </span><span class="o">(</span><span class="m">20</span>.7s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.35GB<span class="o">)</span>
<span class="o">[</span><span class="m">3</span>/8<span class="o">]</span><span class="w"> </span>Building<span class="w"> </span>universe<span class="w">         </span><span class="o">(</span><span class="m">3</span>.3s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.35GB<span class="o">)</span>
<span class="o">[</span><span class="m">4</span>/8<span class="o">]</span><span class="w"> </span>Parsing<span class="w"> </span>methods<span class="w">           </span><span class="o">(</span><span class="m">2</span>.3s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.61GB<span class="o">)</span>
<span class="o">[</span><span class="m">5</span>/8<span class="o">]</span><span class="w"> </span>Inlining<span class="w"> </span>methods<span class="w">          </span><span class="o">(</span><span class="m">2</span>.0s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.44GB<span class="o">)</span>
<span class="o">[</span><span class="m">6</span>/8<span class="o">]</span><span class="w"> </span>Compiling<span class="w"> </span>methods<span class="w">         </span><span class="o">(</span><span class="m">22</span>.2s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.42GB<span class="o">)</span>
<span class="o">[</span><span class="m">7</span>/8<span class="o">]</span><span class="w"> </span>Layouting<span class="w"> </span>methods<span class="w">         </span><span class="o">(</span><span class="m">1</span>.7s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.44GB<span class="o">)</span>
<span class="o">[</span><span class="m">8</span>/8<span class="o">]</span><span class="w"> </span>Creating<span class="w"> </span>image<span class="w">            </span><span class="o">(</span><span class="m">2</span>.3s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.51GB<span class="o">)</span>
*<span class="w"> </span>Compiled<span class="w"> </span>YAMLScript<span class="w"> </span><span class="s1">&#39;99-bottles.ys&#39;</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;99-bottles&#39;</span><span class="w"> </span>executable
$<span class="w"> </span>ls<span class="w"> </span>-lh<span class="w"> </span><span class="m">99</span>-bottles*
-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>ingy<span class="w"> </span>ingy<span class="w"> </span>13M<span class="w"> </span>Dec<span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">18</span>:14<span class="w"> </span><span class="m">99</span>-bottles*
-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>ingy<span class="w"> </span>ingy<span class="w"> </span><span class="m">468</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">18</span>:10<span class="w"> </span><span class="m">99</span>-bottles.ys*
</code></pre></div>
<p>It appears that we have birthed a new beer singer!
What goes better with beer than race cars?</p>
<details><summary><strong>Answer</strong></summary>

Almost anything.
</details>
<p></p>

<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">time</span><span class="w"> </span>./99-bottles<span class="w"> </span><span class="m">3</span>
<span class="m">3</span><span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall,
<span class="m">3</span><span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer.
Take<span class="w"> </span>one<span class="w"> </span>down,<span class="w"> </span>pass<span class="w"> </span>it<span class="w"> </span>around.
<span class="m">2</span><span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall.

<span class="m">2</span><span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall,
<span class="m">2</span><span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer.
Take<span class="w"> </span>one<span class="w"> </span>down,<span class="w"> </span>pass<span class="w"> </span>it<span class="w"> </span>around.
<span class="m">1</span><span class="w"> </span>bottle<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall.

<span class="m">1</span><span class="w"> </span>bottle<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall,
<span class="m">1</span><span class="w"> </span>bottle<span class="w"> </span>of<span class="w"> </span>beer.
Take<span class="w"> </span>one<span class="w"> </span>down,<span class="w"> </span>pass<span class="w"> </span>it<span class="w"> </span>around.
No<span class="w"> </span>more<span class="w"> </span>bottles<span class="w"> </span>of<span class="w"> </span>beer<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>wall.

real<span class="w">    </span>0m0.016s
</code></pre></div>
<p>Woah! 16 milliseconds! Now we're drinking with gas!
Errr... never mind.</p>
<p>You may have noticed that the native binary is 13 megabytes.
That's because it contains the entire YAMLScript runtime.
Hopefully we can get that down to a smaller size in the future.</p>
<p>Also did you notice that it took an annoying amount of time to compile?</p>
<p>Let's time native compiling a minimal program:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">time</span><span class="w"> </span>ys<span class="w"> </span>-be<span class="w"> </span><span class="s1">&#39;say: &quot;Hello, world!&quot;&#39;</span>
*<span class="w"> </span>Compiling<span class="w"> </span>YAMLScript<span class="w"> </span><span class="s1">&#39;-e&#39;</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;./EVAL&#39;</span><span class="w"> </span>executable
*<span class="w"> </span>Setting<span class="w"> </span>up<span class="w"> </span>build<span class="w"> </span>env<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;/tmp/tmp.mahWVLE9gi&#39;</span>
Could<span class="w"> </span>not<span class="w"> </span>find<span class="w"> </span>main<span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;-e&#39;</span>

real<span class="w">    </span>0m0.103s
</code></pre></div>
<p>I forgot to mention.
In order to <code>--binary</code> compile a YAMLScript program, it must have a <code>main</code>
function.
That's an easy fix:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">time</span><span class="w"> </span>ys<span class="w"> </span>-be<span class="w"> </span><span class="s1">&#39;defn main(): say(&quot;Hello, world!&quot;)&#39;</span>
*<span class="w"> </span>Compiling<span class="w"> </span>YAMLScript<span class="w"> </span><span class="s1">&#39;-e&#39;</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;./EVAL&#39;</span><span class="w"> </span>executable
*<span class="w"> </span>Setting<span class="w"> </span>up<span class="w"> </span>build<span class="w"> </span>env<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;/tmp/tmp.1zpmh6L1jM&#39;</span>
*<span class="w"> </span>This<span class="w"> </span>may<span class="w"> </span>take<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>minutes...
<span class="o">[</span><span class="m">1</span>/8<span class="o">]</span><span class="w"> </span>Initializing<span class="w">              </span><span class="o">(</span><span class="m">4</span>.4s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.17GB<span class="o">)</span>
<span class="o">[</span><span class="m">2</span>/8<span class="o">]</span><span class="w"> </span>Performing<span class="w"> </span>analysis<span class="w">               </span><span class="o">(</span><span class="m">17</span>.4s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.30GB<span class="o">)</span>
<span class="o">[</span><span class="m">3</span>/8<span class="o">]</span><span class="w"> </span>Building<span class="w"> </span>universe<span class="w">         </span><span class="o">(</span><span class="m">2</span>.4s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.53GB<span class="o">)</span>
<span class="o">[</span><span class="m">4</span>/8<span class="o">]</span><span class="w"> </span>Parsing<span class="w"> </span>methods<span class="w">           </span><span class="o">(</span><span class="m">2</span>.4s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.49GB<span class="o">)</span>
<span class="o">[</span><span class="m">5</span>/8<span class="o">]</span><span class="w"> </span>Inlining<span class="w"> </span>methods<span class="w">          </span><span class="o">(</span><span class="m">1</span>.4s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.63GB<span class="o">)</span>
<span class="o">[</span><span class="m">6</span>/8<span class="o">]</span><span class="w"> </span>Compiling<span class="w"> </span>methods<span class="w">         </span><span class="o">(</span><span class="m">20</span>.4s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.42GB<span class="o">)</span>
<span class="o">[</span><span class="m">7</span>/8<span class="o">]</span><span class="w"> </span>Layouting<span class="w"> </span>methods<span class="w">         </span><span class="o">(</span><span class="m">1</span>.6s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.46GB<span class="o">)</span>
<span class="o">[</span><span class="m">8</span>/8<span class="o">]</span><span class="w"> </span>Creating<span class="w"> </span>image<span class="w">            </span><span class="o">(</span><span class="m">2</span>.5s<span class="w"> </span>@<span class="w"> </span><span class="m">0</span>.40GB<span class="o">)</span>
*<span class="w"> </span>Compiled<span class="w"> </span>YAMLScript<span class="w"> </span><span class="s1">&#39;-e&#39;</span><span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;./EVAL&#39;</span><span class="w"> </span>executable

real<span class="w">    </span>0m59.855s
</code></pre></div>
<p>Isn't that pretty cool?
You can native compile a <code>-e</code> one liner!</p>
<p>Since the output file needs a name, <code>ys</code> uses <code>./EVAL</code> when you use <code>-e</code>.
You can use the <code>-o</code> option to to name the file explicitly.
Otherwise it defaults to the name of the YAMLScript file with the <code>.ys</code>
extension removed.</p>
<p>The bad news is that it took almost a minute to compile.
Currently that's the price you pay for a one-liner race car!</p>
<p>Let's see if this little guy has the juice:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">time</span><span class="w"> </span>./EVAL
Hello,<span class="w"> </span>world!

real<span class="w">    </span>0m0.010s
</code></pre></div>
<p><strong>Godspeed, you little global greeter!</strong></p>
<hr />
<p>YAMLScript's <code>--binary</code> compiler is based on GraalVM's <code>native-image</code> tool.
The same process that is used to compile the <code>ys</code> CLI binary.</p>
<p>I wish it were faster to compile to binary, but at least now we can be fast
while developing our YAMLScript programs and then compile them to native
binaries when we are ready to ship them.</p>
<p>Let's look at where YAMLScript is at now from a high level view:</p>
<ul>
<li>We have a new language that feels clean like Python</li>
<li>It is actually a functional language adding reliability</li>
<li>It's really Clojure so very complete and powerful</li>
<li>It's embeddable in YAML so you can enhance existing YAML files</li>
<li>It's a better YAML loader for plain old YAML with no magics</li>
<li>It's quite fast when run with the YAMLScript CLI <code>ys</code></li>
<li>It's even faster when compiled to a native binary</li>
</ul>
<p>I think we have a winner here!</p>
<p>There's still a long way to go on many fronts, but all of the above is true
today.
Full disclosure: I only came up the the <code>--binary</code> idea 2 days ago.</p>
<p>Climb aboard and let's fly this baby to the moon!</p>
<p>Come back tomorrow for Day 21 of the YAMLScript Advent Blog!</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../dec-21/" class="md-footer__link md-footer__link--prev" aria-label="Previous: YAML, Python and the Holy Graal">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                YAML, Python and the Holy Graal
              </div>
            </div>
          </a>
        
        
          
          <a href="../dec-19/" class="md-footer__link md-footer__link--next" aria-label="Next: Reindeer All The Way Down">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Reindeer All The Way Down
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      YAMLScript — Copyright 2022-2025
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "header.autohide", "navigation.footer", "navigation.indexes", "navigation.tabs"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>