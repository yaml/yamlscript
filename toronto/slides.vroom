---- config
title: YAML, YS and HelmYS
indent: 5

# auto_size: 1
height: 25
width: 87

vim_opts: '-u NONE'
skip: 0
top: 2
before: 1

vimrc: |
  source ./vimrc


---- center
YAML, YS and HelmYS

Dynamic YAML for DevOps

by Ingy döt Net

Smarter DevOps Meetup
February 13, 2025
Toronto

https://yamlscript.org/talk/20250213


----
== Ingy döt Net

* Invented the YAML data language
  * w/ Clark and Oren; 2001 - 2009
  * YAML 1.0, 1.1, 1.2 specs
    * Norway is no longer a problem!

* Primary Maintainer of YAML
  * w/ Tina, Panto, Eemeli, Thom; 2015 - 2025
  * YAML 1.2.2 spec in 2021

* Created YS / YAMLScript
  * w/ Ven and others; 2023 - 2025
  * A complete programming language
  * Solves many of the problems with YAML


----
== Introducing YS ("wise")

* https://yamlscript.org/

* YS is a functional programming language
* YAML based syntax; clean and flexible
  * Extends YAML in a way that feels like YAML

$ vim 99-charts-of-yaml.ys
$ ys 99-charts-of-yaml.ys
$ ys 99-charts-of-yaml.ys 3

* YS is 100% valid YAML always
* Can be linted and validated as YAML
* All your YAML configs are already valid YS


----
== About YS

* YS code transpiles to Clojure; a JVM Lisp
$ vim <( ys --compile 99-charts-of-yaml.ys )
* This makes YS VERY COMPLETE from the get go
* `ys` is written in Clojure but compiled to native code
* NO JAVA OR JVM REQUIRED to use YS

* The YS command line interpreter is called `ys`
* A single binary with no dependencies
$ curl -s https://getys.org/ys | bash

* Great for DevOps and CI/CD
  * helmys (helmwise)
  * schemays (schemawise)
  * mdys (markdownwise)


----
== Learn YAMLScript at Exercism

* Exercism is a free online platform for learning
  * 75 programming languages
* Including YAMLScript!!
* https://exercism.org/tracks

* YS is the newest track (#74) launched in September
  * 60 programming exercises
* You can get a mentor (real person) to help you learn


----
== YS as a programming language

* How does FizzBuzz in YAMLScript compare to other languages?
* https://gist.github.com/ingydotnet/9ece4af186c6a6dcfd589c446dab9b38

* Comparison page generated by a YS program!


----
== Extending YAML with YS

* https://yamlscript.org/

$ vim -O file.yaml vars.yaml
$ ys --load file.yaml
$ ys -Y file.yaml
$ ys -J file.yaml
$ ys -J file.yaml | jq


----
== CI/CD Refactoring large messy YAML configs

* Calva is a Clojure IDE for VS Code
* YAMLScript is written entirely using Calva

* Last Spring, Calva had a very sad .circleci/config.yml :(
  * 1 file w/ 636 lines of repetitive, hard to maintain YAML
    * with 9 embedded (unlintable) Bash scripts YAML strings

* https://yamlscript.org/use/circleci/


----
== Helm + YS ⇒ HelmYS

* https://yamlscript.org/doc/helmys/

* https://github.com/kubeys/helmys

$ helm install <name> <chart> --post-renderer helmys

$ helmys install <name> <chart>

* Ingy is working with the Helm 4 team
* Nobody loves Go templating in YAML!
* HelmYS should be solid when Helm 4 ships


----
== YAMLLM

* On the topic of AI and Smarter DevOps…

$ yamllm 'Will YAMLScript take over the DevOps world?'

* YAMLLM is written in YS and offers CLI access to nearly 20 LLMs

* https://github.com/yaml/yamllm/blob/main/bin/yamllm.ys


----
== The End

== Questions?


* Slides from tonight:
* https://yamlscript.org/talk/20250213

* Contact Me!
* https://yamlscript.org/ingydotnet/


== Let's Talk About YAML!
